"use strict";(self.webpackChunktaskApp=self.webpackChunktaskApp||[]).push([[591],{9591:(F,h,l)=>{l.r(h),l.d(h,{AuthModule:()=>U});var g=l(6814),p=l(4670),e=l(4946);let Z=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-authpage"]],decls:2,vars:0,consts:[[1,"container-fluid","py-5","mt-5"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[p.lC]}),n})();var m=l(1788),a=l(95);const f=function(n){return{"bg-danger px-1":n}},b=function(){return["/auth/register"]};let A=(()=>{class n{constructor(r,t){this.authService=r,this.router=t,this.user={email:"",password:""}}ngOnInit(){}login(){this.authService.login(this.user.email,this.user.password).subscribe(r=>{this.authService.setUser(r),this.router.navigate(["/tareas"])})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(m.e),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:11,consts:[[1,"col-lg-3","col-sm-6","col-md-4","col-10","m-auto"],[1,"bg-dark","text-white","px-0","py-2","border-0","rounded",3,"ngSubmit"],["formLogin","ngForm"],[1,"fs-3","text-center","p-2"],[1,"mb-1","col-10","m-auto","mb-4"],["for","email",1,"form-label","w-100",3,"ngClass"],["required","","type","email","pattern","[a-zA-Z0-9!#$%&'*\\/=?^_`\\{\\|\\}~\\+\\-]([\\.]?[a-zA-Z0-9!#$%&'*\\/=?^_`\\{\\|\\}~\\+\\-])+@[a-zA-Z0-9]([^@&%$\\/\\(\\)=?\xbf!\\.,:;]|\\d)+[a-zA-Z0-9][\\.][a-zA-Z]{2,4}([\\.][a-zA-Z]{2})?","id","email","name","email","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","password",1,"form-label","w-100",3,"ngClass"],["type","password","required","","id","password","name","password  ",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"link-light","d-block","mb-1","col-10","m-auto","mb-4",3,"routerLink"],["type","submit",1,"btn","btn-sm","btn-primary","mt-2","d-block","d-block","m-auto",3,"disabled"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("ngSubmit",function(){return t.login()}),e.TgZ(3,"h2",3),e._uU(4,"Ingresar"),e.qZA(),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Correo"),e.qZA(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(o){return t.user.email=o}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Contrase\xf1a"),e.qZA(),e.TgZ(13,"input",9,10),e.NdJ("ngModelChange",function(o){return t.user.password=o}),e.qZA()(),e.TgZ(15,"a",11),e._uU(16,"Registrarme"),e.qZA(),e.TgZ(17,"button",12),e._uU(18,"Ingresar"),e.qZA()()()),2&r){const i=e.MAs(2),o=e.MAs(9),u=e.MAs(14);e.xp6(6),e.Q6J("ngClass",e.VKq(6,f,(null==o.errors?null:o.errors.required)&&o.touched)),e.xp6(2),e.Q6J("ngModel",t.user.email),e.xp6(3),e.Q6J("ngClass",e.VKq(8,f,(null==u.errors?null:u.errors.required)&&u.touched)),e.xp6(2),e.Q6J("ngModel",t.user.password),e.xp6(2),e.Q6J("routerLink",e.DdM(10,b)),e.xp6(2),e.Q6J("disabled",i.invalid)}},dependencies:[g.mk,p.rH,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.c5,a.On,a.F]}),n})();function C(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2),e.qZA(),e.BQk()),2&n){const r=s.$implicit;e.xp6(2),e.hij(" ",r," ")}}function _(n,s){1&n&&(e.TgZ(0,"span",19),e._uU(1,"Email invalido"),e.qZA())}function M(n,s){1&n&&(e.TgZ(0,"span",19),e._uU(1,"Minimo 6 caracteres"),e.qZA())}const c=function(n){return{"bg-danger px-1":n}};let T=(()=>{class n{ngOnInit(){}constructor(r,t){this.authService=r,this.router=t,this.errorsRegister=[],this.user={username:"",email:"",password:""}}register(){const{username:r,email:t,password:i}=this.user;this.authService.register(r,t,i).subscribe(o=>{this.authService.setUser(o),this.router.navigate(["/tareas"])},o=>{this.errorsRegister=o.error.error})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(m.e),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:25,vars:16,consts:[[1,"col-lg-3","col-sm-6","col-md-4","col-10","m-auto"],[4,"ngFor","ngForOf"],[1,"bg-dark","text-white","py-2","border","border-0","rounded",3,"ngSubmit"],["formLogin","ngForm"],[1,"fs-3","text-center","my-4","p-1"],[1,"col-10","m-auto","mb-3"],["for","username",1,"w-100","px-1","form-label",3,"ngClass"],["required","","type","text","id","username","name","username",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],["for","email",1,"w-100","px-1","form-label",3,"ngClass"],["required","","type","email","pattern","[a-zA-Z0-9!#$%&'*\\/=?^_`\\{\\|\\}~\\+\\-]([\\.]?[a-zA-Z0-9!#$%&'*\\/=?^_`\\{\\|\\}~\\+\\-])+@[a-zA-Z0-9]([^@&%$\\/\\(\\)=?\xbf!\\.,:;]|\\d)+[a-zA-Z0-9][\\.][a-zA-Z]{2,4}([\\.][a-zA-Z]{2})?","id","email","name","email","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-warning px-1 fs-6",4,"ngIf"],[1,"border-2","col-10","m-auto","mb-3"],["for","password",1,"w-100","px-1","form-label",3,"ngClass"],["type","password","required","","minlength","6","id","password","name","password  ",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","btn-sm","btn-primary","mt-2","d-block","d-block","m-auto",3,"disabled"],["role","alert",1,"alert","alert-danger"],[1,"text-warning","px-1","fs-6"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,C,3,1,"ng-container",1),e.TgZ(2,"form",2,3),e.NdJ("ngSubmit",function(){return t.register()}),e.TgZ(4,"h2",4),e._uU(5,"Registro de usuario"),e.qZA(),e.TgZ(6,"div",5)(7,"label",6),e._uU(8," Nombre de usuario "),e.qZA(),e.TgZ(9,"input",7,8),e.NdJ("ngModelChange",function(o){return t.user.username=o}),e.qZA()(),e.TgZ(11,"div",5)(12,"label",9),e._uU(13,"Correo"),e.qZA(),e.TgZ(14,"input",10,11),e.NdJ("ngModelChange",function(o){return t.user.email=o}),e.qZA(),e.YNc(16,_,2,0,"span",12),e.qZA(),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Contrase\xf1a"),e.qZA(),e.TgZ(20,"input",15,16),e.NdJ("ngModelChange",function(o){return t.user.password=o}),e.qZA(),e.YNc(22,M,2,0,"span",12),e.qZA(),e.TgZ(23,"button",17),e._uU(24," Enviar "),e.qZA()()()),2&r){const i=e.MAs(3),o=e.MAs(10),u=e.MAs(15),d=e.MAs(21);e.xp6(1),e.Q6J("ngForOf",t.errorsRegister),e.xp6(6),e.Q6J("ngClass",e.VKq(10,c,(null==o.errors?null:o.errors.required)&&o.touched)),e.xp6(2),e.Q6J("ngModel",t.user.username),e.xp6(3),e.Q6J("ngClass",e.VKq(12,c,(null==u.errors?null:u.errors.required)&&u.touched)),e.xp6(2),e.Q6J("ngModel",t.user.email),e.xp6(2),e.Q6J("ngIf",(null==u.errors?null:u.errors.pattern)&&u.touched),e.xp6(2),e.Q6J("ngClass",e.VKq(14,c,(null==d.errors?null:d.errors.required)&&d.touched)),e.xp6(2),e.Q6J("ngModel",t.user.password),e.xp6(2),e.Q6J("ngIf",(null==d.errors?null:d.errors.minlength)&&d.touched),e.xp6(1),e.Q6J("disabled",i.invalid)}},dependencies:[g.mk,g.sg,g.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.c5,a.On,a.F]}),n})();var v=l(4306);const y=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"",component:Z,children:[{path:"login",component:A},{path:"register",component:T},{path:"perfil",component:(()=>{class n{constructor(r){this.authService=r,this.authService.getUserObservable().subscribe(t=>{this.user=t})}ngOnInit(){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(m.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:14,vars:5,consts:[[1,"card","bg-dark","text-white","col-lg-4","col-md-6","col-auto","m-auto"],[1,"card-header"],[1,"card-body"],[1,"blockquote","mb-0"],[1,"blockquote-footer"],["title","Source Title"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Datos de usuario "),e.qZA(),e.TgZ(3,"div",2)(4,"blockquote",3)(5,"p"),e._uU(6),e._UZ(7,"br"),e._uU(8),e.qZA(),e.TgZ(9,"footer",4),e._uU(10,"Cuenta creada : "),e.TgZ(11,"cite",5),e._uU(12),e.ALo(13,"fecha"),e.qZA()()()()()),2&r&&(e.xp6(6),e.hij("",t.user.username," "),e.xp6(2),e.hij(" ",t.user.email," "),e.xp6(4),e.Oqu(e.lcZ(13,3,t.user.createdAt)))},dependencies:[v.j]}),n})(),canActivate:[l(1663).u]}]}];let w=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(y),p.Bz]}),n})();var x=l(6208);let U=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,w,x.m]}),n})()}}]);